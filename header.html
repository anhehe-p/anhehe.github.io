<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Header</title>
  <style>
    body{margin:0;font-family:system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial;background:white}
    .header-outer{width:100%;box-sizing:border-box;padding:8px}
    .header-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .col-left,.col-center,.col-right{display:flex;align-items:center}
    .col-left{flex:0 0 auto}
    .col-center{flex:1 1 auto;justify-content:center;flex-direction:column;align-items:center}
    .col-right{flex:0 0 auto;flex-direction:column;align-items:flex-end}
    h1{margin:0;font-family:Garamond,serif;color:#4d311f;font-weight:400}
    .links{margin-bottom:6px}
    .logo-img img{display:block}
    .today{font-size:0.95em;color:#444}
    #header-welcome{font-weight:600;color:#2c6f5a;margin-top:6px;display:none}
    @media (max-width:640px){
      .header-row{flex-direction:column;align-items:stretch}
      .col-right{align-items:flex-start}
    }
  </style>
  </head>
<body>
  <div class="header-outer">
    <div class="header-row">
      <div class="col-left logo-img">
        <img src="/anhehe.github.io/Phamlogo.png" alt="Medical Logo" width="80" height="80">
      </div>

      <div class="col-center">
        <h1 id="site-title">THE PHAMILY HOSPITAL</h1>
        <div id="header-welcome">Welcome back, <span id="welcome-name"></span>!</div>
      </div>

      <div class="col-right">
        <div class="links">
          <a href="/anhehe.github.io/dashboard.html" style="margin-right:12px;color:#4d311f;font-weight:bold;text-decoration:none">ðŸ“Š Dashboard</a>
          <a href="/anhehe.github.io/patient-data.html" style="color:#4d311f;font-weight:bold;text-decoration:none">ðŸ“‹ Patient Data</a>
        </div>
        <div class="today">Date: <span id="today"> </span></div>
      </div>
    </div>
  </div>
  <script>
    (function(){
      // Live date only (MM/DD/YYYY)
      (function updateDate(){
        const now = new Date();
        const pad = n => String(n).padStart(2,'0');
        const mm = pad(now.getMonth() + 1);
        const dd = pad(now.getDate());
        const yyyy = now.getFullYear();
        const dateStr = `${mm}/${dd}/${yyyy}`;
        const dateEl = document.getElementById('today');
        if(dateEl) dateEl.textContent = dateStr;
      })();

      // Simple cookie parser for the header iframe (same-origin)
      function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
        return null;
      }

      const firstName = getCookie('firstName');
      if (firstName) {
        const welcome = document.getElementById('header-welcome');
        const nameSpan = document.getElementById('welcome-name');
        const title = document.getElementById('site-title');
        const decoded = decodeURIComponent(firstName);
        if (nameSpan) nameSpan.textContent = decoded;
        if (welcome) welcome.style.display = 'block';
        if (title) title.textContent = `THE PHAMILY HOSPITAL â€” Welcome, ${decoded}`;
      }
    })();
  </script>
</body>
</html>
