<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Header</title>
  <style>
    body{margin:0;font-family:system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial;background:white}
    .header-table{width:100%;box-sizing:border-box;padding:8px}
    h1{margin:0;text-align:right;font-family:Garamond,serif;color:#4d311f}
    .links{float:right}
    .logo-img{float:left}
    .today{display:block;text-align:right;font-size:0.9em;color:#444}
  </style>
  </head>
<body>
  <div class="header-table">
    <div class="logo-img"><img src="/anhehe.github.io/Phamlogo.png" alt="Medical Logo" width="80" height="80"></div>
    <div style="margin-right:120px">
      <h1 id="site-title">THE PHAMILY HOSPITAL</h1>
      <div id="header-welcome" style="font-weight:600;color:#2c6f5a;margin-top:6px;display:none">Welcome back, <span id="welcome-name"></span>!</div>
      <div class="links" style="margin-top:6px">
        <a href="/anhehe.github.io/dashboard.html" style="margin-right:12px;color:#4d311f;font-weight:bold;text-decoration:none">ðŸ“Š Dashboard</a>
        <a href="/anhehe.github.io/patient-data.html" style="color:#4d311f;font-weight:bold;text-decoration:none">ðŸ“‹ Patient Data</a>
      </div>
      <div class="today">Today's Date: <span id="today"> </span></div>
    </div>
  </div>
  <script>
    (function(){
      const d = new Date();
      const text = d.toLocaleDateString();
      const el = document.getElementById('today');
      if(el) el.textContent = text;

      // Simple cookie parser for the header iframe (same-origin)
      function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
        return null;
      }

      const firstName = getCookie('firstName');
      if (firstName) {
        const welcome = document.getElementById('header-welcome');
        const nameSpan = document.getElementById('welcome-name');
        const title = document.getElementById('site-title');
        if (nameSpan) nameSpan.textContent = decodeURIComponent(firstName);
        if (welcome) welcome.style.display = 'block';
        if (title) title.textContent = `THE PHAMILY HOSPITAL â€” Welcome, ${decodeURIComponent(firstName)}`;
      }
    })();
  </script>
</body>
</html>
